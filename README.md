# Краткий экскурс по Git  
  
## Создаём локальный репозиторий  
  
1. Переходим в папку, в которой собираемся хранить репозитории (cd d:\Roma\Repositories\)  
2. Создаём папку и делаем её репозиторием (mkdir repos1 && git init)  
  
## Делаем первый коммит (официальное сохранение изменений в репозитории)  
  
1. Создаём файл README.txt для описания работы [если хотим красиво оформить с использованием кода markdown, то расширение задаём .md, т.е. получится README.md (touch README.md)] (touch README.txt)  
2. Открываем файл README и заполняем его [для каких целей создан репозиторий] (nano README.md [откроется новое окно консоли, в нём пишем свои мысли, по окончании нажимаем Ctrl+O, консоль запросит разрешение на сохранение, нажимаем [Enter], затем Ctrl+X])  
3. Проверяем список изменений (git status) - появится сообщение, в котором красным цветом будет выделено название нашего README файла, что означает, что изменения в этом файле произошли (его создание), но эти изменения не добавлены в список изменений  
4. Добавляем наше изменение в список изменений (git add --all или git add README.md)  
5. Снова проверяем список изменений (git status) - теперь название файла написано зелёным цветом, что означает, что изменения в файле сохранены в списке изменений  
6. Делаем коммит (git commit -m 'Создали README файл') - в кавычках желательно написать проделанные изменения, чтобы понимать суть изменения  
7. Если теперь взглянуть в список изменений (git status), мы обнаружим, что он пустой, т.к. изменения уже вступили в силу  
  
## Соединяем удалённый репозиторий с локальным  
  
1. Для того чтобы никто нежелательный не смог соединиться с нашим удалённым репозиторием, мы установим связь через публичный ключ, который сейчас создадим:  
1.1 Открываем командную строку (Ctrl + R), вызываем консоль (в командной строке пишем cmd и нажимаем ок).  
1.2 Создаём ssh-ключ (ssh-keygen -t rsa), если появился вопрос "Overwrite?", вы можете перезаписать файл, нажав "y" (от yes), или оставить уже существующий, нажав "n" (от no), далее нас спросят, куда мы хотим сохранить папку хранения ключей, нажимаем Enter, если хотим оставить домашнюю папку, затем нас попросят ввести пароль для дальнейшего использования ключа, можете его придумать и записать, а можете оставить поле пустым [два раза Enter]  
2. Возвращаемся в консоль гита и переходим в пакпу .ssh, которая лежит в корневом каталоге (cd ~/.ssh)  
3. Можем посмотреть, что у нас здесь хранится (ls -a), нас интересует файл id_rsa.pub, скопируем его содержимое, т.е. ключ, в буфер обмена (clip < cat ~/.ssh/id_rsa.pub)  
4. Открываем браузер и заходим на github. Авторизуемся или регистрируемся на нём. Создаём удалённый репозиторий (нажимаем зелёную кнопку _New_ или, если мы у себя в профиле, то на плюс справа сверху + _New repossitory_; нам предложат написать имя репозитория в поле _Repository name*_ и выбрать открытым или зкрытым будет наш репозиторий - пункты _Public_ [открытый, т.е. все в интернете его видят], _Private_ [закрытый] - рекомендуется в этот раз выбрать Public, т.е. открытый; нажимаем зелёную кнопку _Create repository_ - удалённый репозиторий создастся)  
5. Добавляем ранее созданный ключ в удалённый репозиторий (нажимаем на свою аватарку слева справа, далее внизу _Settings_, справа _"SSH and GPS keys"_, затем на зелёную кнопку _"New SSH key"_; в _Title_ указываем имя ключа [можно _Personal key_], в поле _Key_ копируем наш ключ [ранее мы скопировали его в буфер обмена] и нажимаем _"Add SSH key"_  
6. Проверяем успешность добавления ключа на удалённый репозиторий (переходим в консоль Git, пишем команду "ssh -T git@github.com" [без кавычек]; у нас спросят точно ли мы хотим соединиться с сервером, с которым ранее нас ничего не связывало, отвечаем yes)  
7. Связываем удалённый репозиторий с локальным (git remote add origin "SSH-ключ удалённого репозитория без кавычек [его можно найти, нажав зелёную кнопку _Code_, выбрав вкладку _SSH_ и скопировав что-то на подобии git@github.com:%ИМЯ_ПРОФИЛЯ%/...]" [origin - имя удалённого репозитория для нашего локального гита, т.е. его можно задать любым]  
8. Заливаем наш локальный репозиторий на удалённый (git push -u origin master или, если ветка называется main, то git push -u origin main; ветку можно переименовать командой git branch -m old-name new-name или git branch -m new-name, если вы уже находитесь в этой ветке [папке])  
  
## Полезно иметь в виду  
  
В удалённом репозитории под зелёной кнопкой _Code_ есть кнопка _Commit_, нажав на неё можно увидеть все произведённые коммиты; данной функцией отслеживания изменений очень легко и удобно пользоваться.
  
## Немного о хеше и команде log  
  
Хеш - это основной идификатор коммита, зная хеш, мы можем узнать информацию о соответствующем коммите - когда и кем создан коммит, какое он имеет описание. Хеши хранятся в папке _.git_ в репозитории.  
Командой _git log_ мы можем посмотреть информацию о наших коммитах, в том числе и увидим хеш каждого коммита. Командой _git log --oneline_ мы узнаем минимальную информацию каждого коммита.  
В папке _.git_ мы можем найти служебный файл _HEAD_, он указывает на последний коммит проекта. Мы можем в этом убедиться, написав команду _cat HEAD_ - выведет хеш, который соответствует хешу последнего коммита (можно проверить командой _git log_)  
  
## О статусе файлов  
  
Каждый файл в репозитории имеет один из четырёх статусов [иногда два]: _untracked_, _tracked_, _staged_, _modified_.  
Статус означает в каком положении находится файл:  
  
  
'''mermaid  
  graph TD;  
	untracked-->файл ни разу не коммитился;  
	modified-->в файле были произведены изменения, но сам файл не коммитился и не находится внутри списка изменений (команды _add_ над ним не производилось);  
	staged-->файл находится в списке изменений;  
	tracked-->файл коммитился, подразумевается, что на данный момент его не изменяли и он не находится в списке изменений;  
'''  
  
Получается, что статус файла меняется в зависимости от действий над ним:  
  
  
'''mermaid  
  graph TD;  
	Создали файл-->стаутус untracked;  
	untracked--Изменили файл-->статус modified;  
	modified--_git add file_-->статус staged;  
	staged--_git commit_-->статус tracked;  
'''  
  	
Статус файлов можно посмотреть командой _git status_  
  
## Как писать комментарии к коммиту  
  
Комментарии должны быть ёмкими и информативными, для простоты понимания, можно отвечать на вопрос - Что изменилось, детально [например, __Исправил опечатку в заголовке "Awesome"__ или __Добавил новый заголовок "Как писать комментарии к коммиту"__]  
  
